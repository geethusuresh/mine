<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Oneconsole | Change Password</title>
        {% include "components/css.html"%}
    </head>
    <body class="fixed">
    	{% include "components/cust_header.html"%}
        <div class="wrapper">
            {% include "side_bar/sidebar.html"%}
        </div>
        <div class="rightside">
        	<div class="content">
                {% if messages %}
                    <ul>
                        {% for message in messages %}
                            {% if message.tags == 'success' %}
                                <div class="alert alert-success" >{{ message|safe }}</div>
                            {% else %}
                                <div class="alert alert-danger" >{{ message|safe }}</div>
                            {% endif %}
                        {% endfor %}
                    </ul>
                {% endif %}
        		<form  action="/change_password/"class="form-horizontal" method="POST" >{% csrf_token %}
        			<div class="box" >
        				<div class="box-title">
        					<h4>Change Password</h4>
        				</div>
        				<div class="box-body">
							<div class="form-group">
								<input  type="text" name="user" class="hidden" value="{{puser}}">
							</div> 
							<div class="form-group">
								<label for="input-text" style="font-size: 13px;" class="col-sm-3 control-label">Old Password</label>
								<div class="col-sm-9">
								<input type="password" name="old_pass" id="old_pass" class="form-control" placeholder="Old Password"/ required>
								</div>
							</div>
							<div class="form-group">
								<label for="input-text" style="font-size: 13px;" class="col-sm-3 control-label">New Password</label>
								<div class="col-sm-9">
								<input type="password" name="pass1" id="pass1" class="form-control" placeholder="New Password"/ required>
								</div>
							</div>
							<div class="form-group">
								<label for="input-text" style="font-size: 13px;"  class="col-sm-3 control-label">Repeat New Password</label>
								<div class="col-sm-9">
									<input type="password" name="pass2" id="pass2"  onkeyup="checkPass(); return false;"  class="form-control" placeholder="Repeat New Password"/ required>
								</div>
							</div>
							<div class="box-footer">  
								<a href="#" class=" btn btn-info" style="color:#FFF" onclick="clear_all()">Clear</a>               
								<span class="col-sm-7"></span>            

								<button type="submit" id="submitt" class=" btn btn-success" >Reset Password</button>  
							</div>
						</div>
					</div>
				</form>
			</div>
       	</div>
       	{% include "components/footer.html"%}
       	<script type="text/javascript">

	       	function clear_all(){
	       		$('#pass1').val('');
	       		$('#pass2').val('');
	       	}

       	</script>
       	<script>
		
			function checkPass()
			{
			    //Store the password field objects into variables ...
			    var pass1 = document.getElementById('pass1');
			    var pass2 = document.getElementById('pass2');
			    //Set the colors we will be using ...
			    var goodColor = "#66cc66";
			    var badColor = "#ff6666";
			    //Compare the values in the password field
			    //and the confirmation field
			    if(pass1.value == pass2.value){
			        //The passwords match.
			        //Set the color to the good color and inform
			        //the user that they have entered the correct password
			        pass2.style.backgroundColor = goodColor;
			        $( "#submitt" ).prop( "disabled", false );
			    }else{
			        //The passwords do not match.
			        //Set the color to the bad color and
			        //notify the user.
			        pass2.style.backgroundColor = badColor;
			        $( "#submitt" ).prop( "disabled", true );
			    }
			}  
		</script>
    </body>
</html>